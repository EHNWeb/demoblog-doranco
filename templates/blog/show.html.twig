{% extends 'base.html.twig' %}

{% block title %}Hello BlogController!
{% endblock %}

{% block body %}

	{% for message in app.flashes('success') %}
		<div class="alert alert-success text-center">{{ message }}</div>
	{% endfor %}

	<section class="row article">
		<article
			class="col-md-3 mx-auto text-center border border-dark mb-3 p-3 mt-3 mr-1">
			{# SYMPHONY accède à la propriété title de l'objet article via son GETTER #}
			<h2>{{ article.title }}</h2>
			{# date() est un filtre TWIG permettant de formater/convertir un objet DateTime en une chaîne de caractères #}
			<div class="metadata">
			    Ecrit le {{ article.createAt|date('d/m/Y à H:i:s') }} dans la catégorie {{ article.category.title }}
			</div>
			<div class="content">
				<img class="img-fluid" src="{{ article.image }}" alt="Photo aléatoire depuis picsum">
				{{ article.content|raw }}
				<a href="{{ path('blog_edit', {id: article.id}) }}" class="btn btn-sm btn-warning">
					<i class="fa-solid fa-pen"></i>
				</a>
				<a href="{{ path('blog_delete', {id: article.id}) }}" class="btn btn-sm btn-danger">
					<i class="fa-solid fa-trash-can"></i>
				</a>
			</div>
		</article>
	</section>
{% endblock %}
